{
  "info": {
    "name": "Videos - Uploads (fixed)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "base_url", "value": "http://localhost:8000/api" },
    { "key": "auth_token", "value": "" }
  ],
  "item": [
    {
      "name": "Create Video (multipart/form-data)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{auth_token}}" }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "course_id", "value": "1", "type": "text" },
            { "key": "title", "value": "Test Video", "type": "text" },
            { "key": "description", "value": "Short description", "type": "text" },
            { "key": "duration_seconds", "value": "120", "type": "text" },
            { "key": "sort_order", "value": "0", "type": "text" },
            { "key": "is_published", "value": "1", "type": "text" },
            { "key": "video_file", "type": "file", "src": [] },
            { "key": "thumbnail_file", "type": "file", "src": [] }
          ]
        },
        "url": { "raw": "{{base_url}}/videos", "host": ["{{base_url}}"], "path": ["videos"] }
      }
    },
    {
      "name": "Update Video (use POST wrapper for file upload)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{auth_token}}" }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "id", "value": "1", "type": "text" },
            { "key": "title", "value": "Updated Title via POST", "type": "text" },
            { "key": "video_file", "type": "file", "src": [] },
            { "key": "thumbnail_file", "type": "file", "src": [] }
          ]
        },
        "url": { "raw": "{{base_url}}/videos/updateViaPost", "host": ["{{base_url}}"], "path": ["videos","updateViaPost"] }
      }
    },
    {
      "name": "Update Video (POST _method=PUT fallback)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{auth_token}}" }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "_method", "value": "PUT", "type": "text" },
            { "key": "title", "value": "Updated Title via _method", "type": "text" },
            { "key": "video_file", "type": "file", "src": [] }
          ]
        },
        "url": { "raw": "{{base_url}}/videos/1", "host": ["{{base_url}}"], "path": ["videos","1"] }
      }
    }
  ]
}
